---
title: 'DEL HOGAR AL AULA: FACTORES QUE EXPLICAN EL RENDIMIENTO EN MATEMTICAS'
author: "WILLIAM DAVID IBICA PREGONERO"
date: "2025-06-29"
output:
  html_document:
    df_print: paged
---

```{r,echo=FALSE, include=FALSE}
library(dplyr)
library(readxl)
library(ggplot2)
library(GGally)
library(RcmdrMisc)
library(car)
library(tidyverse)
library(modelr)
library(devtools)
library(conflicted)
library(MASS)
library(effects)
library(nortest)
library(DescTools)
library(lmtest)
library(MASS)
library(sjPlot)
library(olsrr)
```

## Introducci贸n

En el 谩mbito educativo, la evaluaci贸n del rendimiento acad茅mico de los estudiantes ha sido objeto de numerosos estudios a nivel nacional e internacional, especialmente en las 谩reas de ciencias naturales, matem谩ticas y lenguaje. Diversas investigaciones el g茅nero del estudiante pueden influir significativamente en los resultados obtenidos por los alumnos en pruebas estandarizadas.

El presente an谩lisis se enmarca en este contexto y utiliza como fuente la base de datos del Instituto Colombiano para la Evaluaci贸n de la Educaci贸n (ICFES) correspondiente al segundo semestre del a帽o 2024 2. La muestra analizada se restringe al departamento de Casanare, lo cual permite enfocar el estudio en una regi贸n espec铆fica del pa铆s y observar sus caracter铆sticas particulares.

## Objetivo general

Analizar el efecto del nivel educativo de la madre y del nivel socioecon贸mico del estudiante sobre el puntaje en matem谩ticas , controlando la influencia del puntaje en lectura cr铆tica como covariable.

-   Estimar el efecto del nivel educativo de la madre y del nivel socioecon贸mico sobre el rendimiento en matem谩ticas, ajustando por el puntaje en lectura cr铆tica.

-   Evaluar si el puntaje en lectura cr铆tica se asocia significativamente con el puntaje en matem谩ticas, cuando se controlan los efectos del nivel educativo de la madre y el nivel socioecon贸mico.

-   Determinar si existen diferencias significativas en el puntaje en matem谩ticas entre los distintos niveles educativos de la madre y niveles socioecon贸micos, ajustando por la covariable.

## Datos

La base de datos utilizada en este estudio proviene del ICFES y corresponde a los resultados de las pruebas estandarizadas aplicadas en el periodo $2024-2$. La muestra se limita a un total de 5465 estudiantes del departamento de Casanare (Colombia), y contiene informaci贸n relevante para el an谩lisis del rendimiento acad茅mico en
matem谩ticas, as铆 como variables asociadas a caracter铆sticas individuales y del entorno familiar del estudiante.

```{r, fig.pos="h", out.width="100%", fig.cap="Tabla de variables", echo=FALSE}
knitr::include_graphics("Tabla_variables.PNG")
```

El procedimiento estad铆stico utilizado para analizar el efecto de dos factores categ贸ricos y una covariable continua
sobre el desempe帽o acad茅mico en matem谩ticas de estudiantes de educaci贸n media. Para tal fin, se implement贸 un
modelo de an谩lisis de covarianza, que permite comparar las medias ajustadas del puntaje en matem谩ticas entre
grupos definidos por el nivel educativo de la madre y el nivel socioecon贸mico del estudiante, controlando el efecto
del puntaje en lectura cr铆tica como covariable.

Este dise帽o permite evaluar si existen diferencias significativas en el rendimiento en matem谩ticas atribuibles a las
condiciones socioculturales y econ贸micas del entorno familiar, una vez que se ha ajustado estad铆sticamente el efecto
del desempe帽o en lectura cr铆tica.

## M茅todos

La formulaci贸n general del modelo se expresa de la siguiente manera:

\[Y_{ijk} = \mu + \alpha_i + \beta_j + (\alpha\beta)_{ij} + \gamma X_k + \epsilon_{ijk}\]

Explicaci贸n de T茅rminos

| S铆mbolo          | Descripci贸n                                                                 |
|------------------|-----------------------------------------------------------------------------|
| $Y_{ijk}$        | Variable respuesta (ej: puntaje en matem谩ticas).                           |
| $\mu$            | Media global del modelo.                                                   |
| $\alpha_i$       | Efecto del $i$-茅simo nivel del **primer factor categ贸rico** (ej: Grupo).  |
| $\beta_j$        | Efecto del $j$-茅simo nivel del **segundo factor categ贸rico** (ej: Tratamiento). |
| $(\alpha\beta)_{ij}$ | Interacci贸n entre los dos factores.                                  |
| $\gamma X_k$     | Efecto de la **covariable continua** $X_k$ (ej: Edad).                     |
| $\epsilon_{ijk}$ | Error aleatorio $\sim N(0, \sigma^2)$.     

*Supuestos del Modelo ANCOVA*

Para que las inferencias del modelo sean v谩lidas y robustas , deben cumplirse los
siguientes supuestos estad铆sticos:

- Independencia de las observaciones: los estudiantes son unidades estad铆sticas independientes.

- Relaci贸n lineal entre la covariable y la variable dependiente: se asume que existe una relaci贸n lineal entre
el puntaje en lectura cr铆tica y el puntaje en matem谩ticas.

- Homogeneidad de pendientes: la relaci贸n entre la covariable y la variable respuesta es constante en todos
los niveles de los factores.

- Homocedasticidad: se espera varianza constante de los errores en los distintos grupos.

- Normalidad de los errores residuales: los residuos del modelo deben seguir una distribuci贸n normal.

# An谩lisis Diagn贸stico del Modelo

Ante la diversidad de variables disponibles como posibles predictores, se implement贸 un
a estrategia metodol贸gica para identificar el conjunto 贸ptimo de variables. Este enfoque buscar谩 equilibrar la capacidad predictiva del modelo m谩s simple y con el menor n煤mero de supuestos (principio de parsimonia), garantizando as铆 un modelo robusto e interpretable.

Una vez ajustado el modelo se procede a realizar un conjunto de an谩lisis diagn贸sticos con el fin de evaluar su
validez estad铆stica y asegurar la fiabilidad de las inferencias.
# Software
- SAS (versi贸n 9.4): utilizado para el preprocesamiento de datos, recodificaci贸n de variables, an谩lisis
descriptivo y ejecuci贸n del modelo ANCOVA.

- RStudio (versi贸n 2024.03.0): se emple贸 de forma complementaria para la verificaci贸n cruzada de
resultados mediante el uso de los paquetes car (Anova Type III), ggplot2 (visualizaci贸n de efectos
marginales) y emmeans (estimaci贸n de medi as marginales ajustadas).

## Resultados y discusi贸n

Los resultados finales desde los distintos m茅todos exploratorios realizados para la obtenci贸n del modelo m谩s simple
fueron Modelo ANCOVA a dos v铆as:

**Componentes aleatorios**

\[ Y_{ijk} \sim Normal(\mu_{ijk}, \sigma^2) \]

\[ \epsilon_{ijk} \sim Normal(\mu_{ijk}, \sigma^2) \]

\[ Var(\epsilon_{ij}) = \sigma^2, \ \forall_{i,j} \]

**Descripci贸n del modelo**

- Variables finales:

1. Variable respuesta: Puntaje en matem谩ticas

2. Variables Explicativas: estas est谩n en dos categor铆as
Factores (Nivel educativo de la madre nivel socioecon贸mico del estudiante)

3. Covariable: Puntaje en lectura cr铆tica 

```{r, fig.pos="h", out.width="100%", fig.cap="Medidas descriptivas", echo=FALSE}
knitr::include_graphics("Caracter铆sticas.PNG")
```

EL modelo explica el $53.63\%$ de la variabilidad de los datos, esto sugiere un buen porcentaje y se puede observar en el coeficiente de determinaci贸n m煤ltiple $^2(d)$, adem谩s, 茅l $ = 909.86$ es significativo. Esto
confirma que, en conjunto, las variables independientes utilizadas explican una proporci贸n significativa de la variabilidad observada. Adicional mente, la ra铆z del error cuadr谩tico medio (Ra铆z MSE) fue 8.54, l o que sugiere una dispersi贸n moderada de los residuos alrededor de las predicciones del modelo.

```{r, fig.pos="h", out.width="100%", fig.cap="Modelo", echo=FALSE}
knitr::include_graphics("Modelo.PNG")
```

El an谩lisis de los coeficientes estimados del modelo general lineal revela efectos significativos de las variables explicativas sobre el puntaje en matem谩tica s, controlando por el nivel socioecon贸mico individual y el puntaje en lectura cr铆tica. En relaci贸n con el nivel educativo de la madre (educ_madre_ord), se observ贸 que los estudiantes cuyas madres poseen un nivel educativo bajo presentan, en promedio, una disminuci贸n de 1.65 puntos en el puntaje
de matem谩ticas en comparaci贸n con aquellos cuya madre tiene un nivel educativo alto, diferencia que result贸 altamente significativa **(p < 0.0001)**. Asimismo, los estudiantes del nivel intermedio evidencian una disminuci贸n promedio de 0.71 puntos respecto al nivel alto, tambi茅n estad铆sticamente significativa **(p = 0.0359)**.

Respecto al nivel socioecon贸mico individual, 煤nicamente la categor铆a m谩s baja mostr贸 una diferencia significativa. Los estudiantes clasificados en el nivel socioecon贸mico obtuvieron en promedio 1.46 puntos menos que aquellos pertenecientes al nivel alto (categor铆a de referencia), con un valor p de 0.0223. Las dem谩s categor铆as socioecon贸micas no mostraron efectos estad铆sticamente significativos en comparaci贸n con el nivel alto. Por su parte, la covariable punt_lectura_critica present贸 un coeficiente positivo altamente significativo (尾 = 0.8826; Por su parte, la covariable punt_lectura_critica present贸 un coeficiente positivo altamente significativo (尾 = 0.8826; p < 0.0001), lo cual indica que, manteniendo constantes los dem谩s factores, un incremento dep < 0.0001), lo cual indica que, manteniendo constantes los dem谩s factores, un incremento de un punto en el puntaje un punto en el puntaje de lectura cr铆tica se asocia con un aumento promedio de 0.88 puntos en el puntaje de matem谩ticas. Este hallazgo de lectura cr铆tica se asocia con un aumento promedio de 0.88 puntos en el puntaje de matem谩ticas. Este hallazgo resalta la influencia directa del rendimiento en lectura cr铆tica sobre el desempe帽o en matem谩ticas, reforzando su resalta la influencia directa del rendimiento en lectura cr铆tica sobre el desempe帽o en matem谩ticas, reforzando su inclusi贸n como covariable relevante en el modelo.

**Estad铆sticos descriptivos**

```{r, fig.pos="h", out.width="100%", fig.cap="Medidas descriptivas", echo=FALSE}
knitr::include_graphics("descriptivas.PNG")
```

